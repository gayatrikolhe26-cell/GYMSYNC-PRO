<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>GYMSYNC PRO Login</title>
<link rel="stylesheet" href="global.css">

<style>
body{
display:flex;
justify-content:center;
align-items:center;
height:100vh;
color:white;
}

.box{
background:rgba(0,0,0,0.75);
padding:40px;
border-radius:15px;
width:340px;
text-align:center;
}

select,input{
width:100%;
padding:12px;
margin:10px 0;
border-radius:8px;
border:none;
}

button{
padding:12px;
width:100%;
background:#22d3ee;
border:none;
border-radius:8px;
font-weight:bold;
cursor:pointer;
}

h2{margin-bottom:20px;}
</style>
</head>

<body>

<div class="box">
<h2>GYMSYNC PRO</h2>

<select id="role">
<option value="admin">Admin</option>
<option value="trainer">Trainer</option>
<option value="member">Member</option>
</select>

<input id="email" placeholder="Email">
<input id="password" type="password" placeholder="Password">

<button onclick="login()">Login</button>
<p id="msg"></p>
</div>

<script>
function login(){

let role=document.getElementById("role").value;
let email=document.getElementById("email").value;
let password=document.getElementById("password").value;

fetch("../backend/universal_login.php",{
method:"POST",
headers:{"Content-Type":"application/x-www-form-urlencoded"},
body:"role="+role+"&email="+email+"&password="+password
})
.then(res=>res.text())
.then(data=>{

if(data=="admin"){
window.location="dashboard.html";
}
else if(data=="trainer"){
window.location="trainer_dashboard.html";
}
else if(data=="member"){
window.location="member_dashboard.html";
}
else{
msg.innerHTML="Invalid login";
}

});
}
</script>

</body>
</html>